{"ast":null,"code":"import { redirect } from \"react-router-dom\";\nexport const tokenFunction = () => {\n  const data = localStorage.getItem(\"token\");\n  if (!data) {\n    return null;\n  }\n  const time = durationTime();\n  if (time < 0) {\n    return \"Expired\";\n  }\n  return data;\n};\nexport const durationTime = () => {\n  const tokenTimeLogin = localStorage.getItem(\"time\");\n  const durationToken = new Date(tokenTimeLogin);\n  // const tokenTime = durationToken.setTime();\n  const nowTime = new Date();\n  // const now = nowTime.setTime();\n  // const duration = tokenTime - now;\n  const duration = durationToken.getTime() - nowTime.getTime();\n  return duration;\n};\nexport const stateToken = () => {\n  return tokenFunction();\n};\nexport const CheckAuth = () => {\n  const token = tokenFunction();\n  if (!token) {\n    return redirect(\"/auth\");\n  }\n  // return null;\n};\n_c = CheckAuth;\nvar _c;\n$RefreshReg$(_c, \"CheckAuth\");","map":{"version":3,"names":["redirect","tokenFunction","data","localStorage","getItem","time","durationTime","tokenTimeLogin","durationToken","Date","nowTime","duration","getTime","stateToken","CheckAuth","token"],"sources":["C:/Sowlution/frontend/src/util/authtoken.js"],"sourcesContent":["import { redirect } from \"react-router-dom\";\r\n\r\nexport const tokenFunction = () => {\r\n  const data = localStorage.getItem(\"token\");\r\n\r\n  if (!data) {\r\n    return null;\r\n  }\r\n  const time = durationTime();\r\n  if (time < 0) {\r\n    return \"Expired\";\r\n  }\r\n  return data;\r\n};\r\nexport const durationTime = () => {\r\n  const tokenTimeLogin = localStorage.getItem(\"time\");\r\n  const durationToken = new Date(tokenTimeLogin);\r\n  // const tokenTime = durationToken.setTime();\r\n  const nowTime = new Date();\r\n  // const now = nowTime.setTime();\r\n  // const duration = tokenTime - now;\r\n  const duration = durationToken.getTime() - nowTime.getTime();\r\n  return duration;\r\n};\r\nexport const stateToken = () => {\r\n  return tokenFunction();\r\n};\r\nexport const CheckAuth = () => {\r\n  const token = tokenFunction();\r\n  if (!token) {\r\n    return redirect(\"/auth\");\r\n  }\r\n  // return null;\r\n};\r\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,kBAAkB;AAE3C,OAAO,MAAMC,aAAa,GAAG,MAAM;EACjC,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE1C,IAAI,CAACF,IAAI,EAAE;IACT,OAAO,IAAI;EACb;EACA,MAAMG,IAAI,GAAGC,YAAY,EAAE;EAC3B,IAAID,IAAI,GAAG,CAAC,EAAE;IACZ,OAAO,SAAS;EAClB;EACA,OAAOH,IAAI;AACb,CAAC;AACD,OAAO,MAAMI,YAAY,GAAG,MAAM;EAChC,MAAMC,cAAc,GAAGJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EACnD,MAAMI,aAAa,GAAG,IAAIC,IAAI,CAACF,cAAc,CAAC;EAC9C;EACA,MAAMG,OAAO,GAAG,IAAID,IAAI,EAAE;EAC1B;EACA;EACA,MAAME,QAAQ,GAAGH,aAAa,CAACI,OAAO,EAAE,GAAGF,OAAO,CAACE,OAAO,EAAE;EAC5D,OAAOD,QAAQ;AACjB,CAAC;AACD,OAAO,MAAME,UAAU,GAAG,MAAM;EAC9B,OAAOZ,aAAa,EAAE;AACxB,CAAC;AACD,OAAO,MAAMa,SAAS,GAAG,MAAM;EAC7B,MAAMC,KAAK,GAAGd,aAAa,EAAE;EAC7B,IAAI,CAACc,KAAK,EAAE;IACV,OAAOf,QAAQ,CAAC,OAAO,CAAC;EAC1B;EACA;AACF,CAAC;AAAC,KANWc,SAAS;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}